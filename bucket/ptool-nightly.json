{
    "version": "220",
    "description": "自用的 PT (private tracker) 全自动刷流、辅种、辅助工具",
    "homepage": "https://github.com/sagan/ptool",
    "license": "AGPL-3.0-or-later",
    "architecture": {
        "64bit": {
            "url": "https://ci.appveyor.com/api/buildjobs/e54832f1sx855k38/artifacts/dist/ptool-v0.1.11-snapshot-windows-amd64.zip",
            "hash": "e53a13b625d0850b49c1f57c350e10cde08ea483b0c8ee2daa98abf2fdc72ecf"
        },
        "arm64": {
            "url": "https://ci.appveyor.com/api/buildjobs/e54832f1sx855k38/artifacts/dist/ptool-v0.1.11-snapshot-windows-arm64.zip",
            "hash": "28365734eb15e227f25824ae28491263c0c83439838084accf1a4e04f4bf728d"
        }
    },
    "bin": "ptool.exe",
    "checkver": {
        "script": [
            "$project = Invoke-RestMethod -Uri \"https://ci.appveyor.com/api/projects/sagan/ptool\"",
            "$buildNumber = $project.build.buildNumber",
            "$jobId = $project.build.jobs[0].jobId",
            "$artifacts = Invoke-RestMethod -Uri \"https://ci.appveyor.com/api/buildjobs/$jobId/artifacts\"",
            "$amd64 = $artifacts | Where-Object { $_.fileName -like \"*windows-amd64*\" }",
            "$arm64 = $artifacts | Where-Object { $_.fileName -like \"*windows-arm64*\" }",
            "Write-Output $buildNumber $jobId $amd64.fileName $arm64.fileName"
        ],
        "regex": "(?<version>[\\d]+)\\s(?<jobid>[\\w]+)\\s(?<amd64>[\\S]+)\\s(?<arm64>[\\S]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://ci.appveyor.com/api/buildjobs/$matchJobid/artifacts/$matchAmd64"
            },
            "arm64": {
                "url": "https://ci.appveyor.com/api/buildjobs/$matchJobid/artifacts/$matchArm64"
            }
        }
    }
}
