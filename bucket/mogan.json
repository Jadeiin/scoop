{
    "version": "1.1.6",
    "description": "A user-friendly distribution of GNU TeXmacs.",
    "homepage": "https://mogan.app",
    "license": "GPL-3.0-or-later",
    "url": "https://github.com/XmacsLabs/mogan/releases/download/v1.1.6/Mogan-v1.1.6-64bit-installer.exe",
    "hash": "md5:2ea3b981eca36397db3222e8485e52e7",
    "innosetup": true,
    "bin": "bin\\mogan.exe",
    "shortcuts": [
        [
            "bin\\mogan.exe",
            "Mogan",
            "",
            "Xmacs.ico"
        ]
    ],
    "post_install": [
        "Write-Host 'Registering the TM FileType...'",
        "New-Item 'HKCU:\\SOFTWARE\\Classes\\.tm' -Value \"tmfile\" -Force | Out-Null",
        "New-Item 'HKCU:\\SOFTWARE\\Classes\\tmfile' -Value \"text/tm\" -Force | Out-Null",
        "New-Item 'HKCU:\\SOFTWARE\\Classes\\tmfile\\DefaultIcon' -Value \"$dir\\TeXmacs.ico\" -Force | Out-Null",
        "New-Item 'HKCU:\\SOFTWARE\\Classes\\tmfile\\shell\\open\\command' -Value \"\"\"$dir\\bin\\mogan.exe\"\" \"\"%1\"\"\" -Force | Out-Null",
        "Write-Host 'Done!'"
    ],
    "pre_uninstall": [
        "Write-Host 'Unregistering the TM FileType...'",
        "Remove-Item 'HKCU:\\SOFTWARE\\Classes\\.tm' -Force -Recurse",
        "Remove-Item 'HKCU:\\SOFTWARE\\Classes\\tmfile' -Force -Recurse",
        "Write-Host 'Done!'"
    ],
    "env_set": {
        "TEXMACS_HOME_PATH": "$dir\\data"
    },
    "persist": "data",
    "checkver": {
        "github": "https://github.com/XmacsLabs/mogan"
    },
    "autoupdate": {
        "url": "https://github.com/XmacsLabs/mogan/releases/download/v$version/Mogan-v$version-64bit-installer.exe",
        "hash": {
            "url": "https://mogan.app/guide/Install.html",
            "find": "<td>Windows.*?Download</a></td><td>($md5)"
        }
    }
}
